<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/main :: layout(~{::title}, ~{::main})}">
<head>
  <title>ISBN Lookup | MockShelf</title>
</head>
<body>
<main>
  <div class="container mx-auto px-4 py-8">
    <!-- Back Button -->
    <div class="mb-4">
      <a th:href="@{/books}" class="text-blue-600 hover:text-blue-800 flex items-center">
        <span class="mr-1">‚Üê</span> Back to Books
      </a>
    </div>

    <!-- Page Header -->
    <h1 class="text-3xl font-semibold text-gray-800 mb-6">ISBN Lookup</h1>

    <!-- Alerts -->
    <div th:if="${error}" class="alert-danger mb-6" role="alert">
      <span th:text="${error}"></span>
    </div>

    <!-- Form -->
    <div class="bg-white shadow-md rounded-lg overflow-hidden p-6">
      <p class="text-gray-600 mb-6">
        Enter an ISBN to automatically fetch book details from an external database.
        If the book is found, it will be added to the library.
      </p>

      <form th:action="@{/books/isbn-lookup}" th:object="${isbnLookup}" method="post" class="space-y-6">
        <!-- ISBN Field -->
        <div class="form-group">
          <label for="isbn" class="form-label">ISBN *</label>
          <input type="text" th:field="*{isbn}" id="isbn" class="form-input"
                 placeholder="Enter 10 or 13 digit ISBN (e.g., 9780132350884)" required>
          <div th:if="${#fields.hasErrors('isbn')}" class="text-red-500 text-xs mt-1"
               th:errors="*{isbn}">ISBN Error</div>
          <p class="text-xs text-gray-500 mt-1">
            ISBN should be 10 or 13 digits, can include hyphens (e.g., 978-0-13-235088-4)
          </p>
        </div>

        <!-- Form Buttons -->
        <div class="flex space-x-2">
          <button type="submit" class="btn-primary">
            <span>Look up ISBN</span>
          </button>
          <a th:href="@{/books}" class="btn-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</main>
</body>
</html>
