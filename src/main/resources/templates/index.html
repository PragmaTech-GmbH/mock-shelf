<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{layouts/main :: layout(~{::title}, ~{::main})}">
<head>
  <title>Welcome to MockShelf</title>
</head>
<body>
<main>
  <div class="container mx-auto px-4 py-8">
    <!-- Hero Section -->
    <div class="bg-white shadow-md rounded-lg overflow-hidden mb-8">
      <div class="md:flex">
        <div class="md:w-1/2 p-8">
          <h1 class="text-3xl font-bold text-gray-800 mb-4">Welcome to MockShelf</h1>
          <p class="text-lg text-gray-600 mb-6">Your digital bookshelf for testing and development.</p>
          <p class="text-gray-600 mb-4">
            MockShelf provides a complete library management system with local mailing and mocked remote services.
            It's designed to help you explore Spring Boot testing techniques in a real-world application.
          </p>
          <div class="mt-6">
            <a th:href="@{/books}" class="btn-primary mr-4">Browse Books</a>
            <a th:href="@{/login}" sec:authorize="!isAuthenticated()" class="btn-secondary">Sign In</a>
          </div>
        </div>
        <div class="md:w-1/2 bg-blue-50 flex items-center justify-center p-8">
          <div class="max-w-sm">
            <div class="text-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 mx-auto text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
              </svg>
            </div>
            <div class="text-center">
              <h2 class="text-xl font-semibold text-gray-800 mb-2">Testing Made Easy</h2>
              <p class="text-gray-600">
                Explore real-world Spring Boot testing techniques with this sample library application.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Key Features</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-blue-600 mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold mb-2">Browse & Borrow</h3>
        <p class="text-gray-600">
          Search through our collection of books and borrow them with just a few clicks.
        </p>
        <div class="mt-4">
          <a th:href="@{/books}" class="text-blue-600 hover:text-blue-800 flex items-center">
            Browse Books
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>

      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-green-600 mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold mb-2">Manage Your Account</h3>
        <p class="text-gray-600">
          Track your borrowed books, due dates, and reading history.
        </p>
        <div class="mt-4">
          <a th:href="@{/loans/my-loans}" sec:authorize="isAuthenticated()" class="text-green-600 hover:text-green-800 flex items-center">
            My Loans
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
          <a th:href="@{/login}" sec:authorize="!isAuthenticated()" class="text-green-600 hover:text-green-800 flex items-center">
            Sign In
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>

      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-purple-600 mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold mb-2">Review Books</h3>
        <p class="text-gray-600">
          Share your thoughts on books you've read and read others' reviews.
        </p>
        <div class="mt-4">
          <a th:href="@{/books}" class="text-purple-600 hover:text-purple-800 flex items-center">
            View Books to Review
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
    </div>

    <!-- Admin Section - Only shown to administrators -->
    <div sec:authorize="hasRole('ROLE_ADMIN')" class="mb-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Administrative Tools</h2>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <p class="text-gray-600 mb-4">
          As an administrator, you have access to additional tools for managing the library system.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <a th:href="@{/admin/dashboard}" class="bg-gray-100 hover:bg-gray-200 p-4 rounded-lg text-center">
            <div class="text-indigo-600 mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
              </svg>
            </div>
            <span>Dashboard</span>
          </a>
          <a th:href="@{/admin/books}" class="bg-gray-100 hover:bg-gray-200 p-4 rounded-lg text-center">
            <div class="text-indigo-600 mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
              </svg>
            </div>
            <span>Manage Books</span>
          </a>
          <a th:href="@{/admin/users}" class="bg-gray-100 hover:bg-gray-200 p-4 rounded-lg text-center">
            <div class="text-indigo-600 mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
            </div>
            <span>Manage Users</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Recently Added Books Section - Dynamic content that would be populated from the controller -->
    <div class="mb-8">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800">Recently Added Books</h2>
        <a th:href="@{/books}" class="text-blue-600 hover:text-blue-800 flex items-center">
          View All
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>

      <!-- Display recently added books from the controller -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <div th:each="book : ${recentBooks}" class="bg-white rounded-lg shadow-md overflow-hidden">
          <div class="p-4">
            <!-- Book cover image -->
            <div th:if="${book.coverImageUrl}" class="h-48 mb-4">
              <img th:src="${book.coverImageUrl}" alt="Book cover" class="h-full w-full object-cover rounded">
            </div>
            <div th:unless="${book.coverImageUrl}" class="bg-gray-200 h-48 flex items-center justify-center mb-4">
              <span class="text-gray-500">No Cover</span>
            </div>

            <!-- Book details -->
            <h3 class="font-medium text-gray-800 mb-2" th:text="${book.title}">Book Title</h3>
            <p class="text-sm text-gray-600 mb-2" th:text="${book.author}">Author Name</p>
            <div class="flex justify-between items-center">
              <span th:if="${book.available}" class="px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full">Available</span>
              <span th:unless="${book.available}" class="px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full">Not Available</span>
              <a th:href="@{/books/{id}(id=${book.id})}" class="text-blue-600 hover:text-blue-800">View</a>
            </div>
          </div>
        </div>

        <!-- Show placeholder if no books are available -->
        <div th:if="${recentBooks.isEmpty()}" class="col-span-4 bg-white rounded-lg shadow-md p-8 text-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
          </svg>
          <p class="text-gray-500">No books have been added to the library yet.</p>
          <a th:href="@{/books/new}" sec:authorize="hasRole('ROLE_ADMIN')" class="btn-primary mt-4 inline-block">Add Your First Book</a>
        </div>
      </div>
    </div>

    <!-- Getting Started Section -->
    <div class="mb-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Getting Started</h2>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <ol class="list-decimal pl-6 space-y-3">
          <li class="text-gray-700">
            <span class="font-medium">Browse Books:</span> Explore our collection of books available for borrowing.
          </li>
          <li class="text-gray-700">
            <span class="font-medium">Create an Account or Login:</span> You need to be logged in to borrow books.
          </li>
          <li class="text-gray-700">
            <span class="font-medium">Borrow Books:</span> Click on a book to view details and borrow it.
          </li>
          <li class="text-gray-700">
            <span class="font-medium">Manage Your Loans:</span> Keep track of your borrowed books and return dates.
          </li>
          <li class="text-gray-700">
            <span class="font-medium">Write Reviews:</span> Share your thoughts on books you've read.
          </li>
        </ol>
      </div>
    </div>
  </div>
</main>
</body>
</html>
